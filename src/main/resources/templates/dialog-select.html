<!--
 Copyright (C) 2019 Toshiba Corporation
 SPDX-License-Identifier: Apache-2.0
-->

<!DOCTYPE html>
<html>
<head>
	<th:block th:insert="fragment/common::#head"></th:block>
</head>
<body>
	<th:block th:insert="fragment/common::#body"></th:block>
	<script>
	(function(){
		"use strict";

		const application = new wcardinal.ui.DApplication();
		const dialog = new wcardinal.ui.DDialogSelect({
			item: {
				text: {
					formatter: ( value ) => {
						return "# " + value.id;
					}
				},
				predefineds: [{
					id: -1
				}]
			},
			controller: {
				search: ( word ) => {
					return new Promise(( resolve ) => {
						setTimeout(() => {
							const result = [];
							for( let i = 0; i < 10; ++i ) {
								result.push({
									id: i
								});
							}
							resolve( result );
						}, 1000 * Math.random());
					});
				}
			}
		});
		dialog.open().then(() => {
			console.log( "ok", dialog.value );
		}).catch(() => {
			console.log( "cancel" );
		});
	}());
	</script>
</body>
</html>
